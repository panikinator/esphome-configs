esphome:
  name: dot-matrix-display
  friendly_name: dot matrix display

esp8266:
  board: d1_mini

# Enable logging
logger:

# Enable Home Assistant API
api:
  encryption:
    key: !secret default_native_api_encryption_key

ota:
  - platform: esphome
    password: !secret default_ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Dot-Matrix-Display"
    password: !secret fallback_ap_password

captive_portal:

spi:
  clk_pin: D0
  mosi_pin: D1

display:
  - platform: max7219digit
    cs_pin: D8
    num_chips: 4
    intensity: 1
    lambda: |-
      it.strftime(1, 0, id(digit_font), "%H:%M", id(hass_time).now());
      it.image(24, 0, id(my_image));
      it.line(1, 7, 21, 7);
font:
  - file: "static/pixelmix.ttf"
    id: digit_font
    size: 6

time:
  - platform: homeassistant
    id: hass_time

image:
  - file: "static/smile.png"
    type: RGB
    transparency: alpha_channel
    id: my_image
    